syntax = "proto3";

package inexor.tree;

service TreeService
{
  // Bidirectional Streaming
  // 
  // Accepts and reads a stream of changed values from clientside, while responding with an (independent) stream of changed value messages itself.
  // The first messages will be the metadata.
  rpc Synchronize(stream ChangedValue) returns (stream ChangedValue) {}
}

// This message will get generated.

message Value
{
  oneof test
  {
     string mainpath = 1;
     int32 fullscreen = 2;
  }
}

// message metadata

message ChangedValue
{
  // The path to the item in the tree. TODO: replace path with int64 containing bitshifted index values.
  string path = 1;
//  Value newvalue = 2;
}



